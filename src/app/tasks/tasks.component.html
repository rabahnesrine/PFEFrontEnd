<div class="content">

    <div class="container">

        <div class="tab-content mt-3" id="myTabContent">
            <div id="users" class="tab-pane fade in active">
                <div class=" mb-3 float-right">
                    <div class="btn-group mr-2">
                        <form class="form-inline my-2 my-lg-0 justify-content-center">

                                                       
                               

                            <button type="button" class="btn btn-danger" data-toggle="modal"
                                [hidden]="!isAdminOrScrumMasterOrChef" data-target="#addTaskModal">
                                <i class="fa fa-plus"></i>
                                New Tasks
                            </button>

                            <div class="btn-group">
                            <button type="button" class="btn btn-danger" data-toggle="modal"
                            [hidden]="!isAdminOrScrumMasterOrChef" data-target="#archiveTaskModal">
                            <i class="fas fa-archive"></i>  List Archive
                        </button>
                            </div>

                            <div class="btn-group">
                                <button type="button" id="refreshtaskButton" (click)="getTasks(true)"
                                    class="btn btn-danger">
                                    <i *ngIf="refreshTask" class="fa fa-sync fa-spin"></i> <i *ngIf="! refreshTask"
                                        class="fa fa-sync"></i>

                                </button>
                            </div>

                        </form>


                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-3 ">
                <div class="card-box card m-b-30 shadow-lg p-3 mb-5 bg-white rounded  ">
                    <h4 class="text-dark header-title">To Do</h4>
                    <ul class="sortable-list taskList list-unstyled ui-sortable" id="upcoming">

                        <li *ngFor="let task of tasksToDo" class="task-warning ui-sortable-handle shadow-sm" id="task1">

                            {{task.nameTask}}
                            <div class="clearfix"> </div>
                            <div class="mt-3">
                                <p class="mb-0">
                                    <a href="" class="text-muted"><img src={{task.memberAffecter.profileImageUrl}}
                                            alt="task-user" class="thumb-sm rounded-circle mr-2"> <span
                                            class="font-bold font-secondary">{{task.memberAffecter.username}}</span></a>
                                </p>
                            </div>

                            <div class="card-body text-right ">


                                <div class="float-right btn-group btn-group-sm">
                                    <a class="table-link  text-warning" (click)="onSelectTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link  text-info" (click)="onEditTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-pencil-alt fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link text-danger" (click)="onDeleteTask(task.idTask)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>



                        </li>




                    </ul><a href="#" class="btn btn-custom btn-block mt-3 waves-effect waves-light"></a>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="card-box card m-b-30 shadow-lg p-3 mb-5 bg-white rounded ">
                    <h4 class="text-dark header-title">In Progress</h4>

                    <ul class="sortable-list taskList list-unstyled ui-sortable" id="inprogress">
                        <li *ngFor="let task of tasksInProgress" class="task-warning ui-sortable-handle shadow-sm"
                            id="task1">

                            {{task.nameTask}}
                            <div class="clearfix"> </div>
                            <div class="mt-3">
                                <p class="mb-0">
                                    <a href="" class="text-muted"><img src={{task.memberAffecter.profileImageUrl}}
                                            alt="task-user" class="thumb-sm rounded-circle mr-2"> <span
                                            class="font-bold font-secondary">{{task.memberAffecter.username}}</span></a>
                                </p>
                            </div>

                            <div class="card-body text-right ">


                                <div class="float-right btn-group btn-group-sm">
                                    <a class="table-link  text-warning" (click)="onSelectTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link  text-info" (click)="onEditTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-pencil-alt fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link text-danger" (click)="onDeleteTask(task.idTask)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>



                        </li>



                    </ul><a href="#" class="btn btn-custom btn-block mt-3 waves-effect waves-light"></a>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="card-box card m-b-30 shadow-lg p-3 mb-5 bg-white rounded ">
                    <h4 class="text-dark header-title">Cancel</h4>
                    <ul class="sortable-list taskList list-unstyled ui-sortable" id="completed">
                        <li *ngFor="let task of tasksCancel" class="task-warning ui-sortable-handle shadow-sm"
                            id="task1">

                            {{task.nameTask}}
                            <div class="clearfix"> </div>
                            <div class="mt-3">
                                <p class="mb-0">
                                    <a href="" class="text-muted"><img src={{task.memberAffecter.profileImageUrl}}
                                            alt="task-user" class="thumb-sm rounded-circle mr-2"> <span
                                            class="font-bold font-secondary">{{task.memberAffecter.username}}</span></a>
                                </p>
                            </div>

                            <div class="card-body text-right ">


                                <div class="float-right btn-group btn-group-sm">
                                    <a class="table-link  text-warning" (click)="onSelectTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link  text-info" (click)="onEditTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-pencil-alt fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>

                                    <a class="table-link text-danger" (click)="onDeleteTask(task.idTask)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>



                        </li>




                    </ul><a href="#" class="btn btn-custom btn-block mt-3 waves-effect waves-light"></a>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="card-box card m-b-30 shadow-lg p-3 mb-5 bg-white rounded ">
                    <h4 class="text-dark header-title">Completed</h4>
                  

                    <ul class="sortable-list taskList list-unstyled ui-sortable" id="completed">
                        <li *ngFor="let task of tasksInFinish" class="task-warning ui-sortable-handle shadow-sm"
                            id="task1">

                            {{task.nameTask}}
                            <div class="clearfix"> </div>
                            <div class="mt-3">
                                <p class="mb-0">
                                    <a href="" class="text-muted"><img src={{task.memberAffecter.profileImageUrl}}
                                            alt="task-user" class="thumb-sm rounded-circle mr-2"> <span
                                            class="font-bold font-secondary">{{task.memberAffecter.username}}</span></a>
                                </p>
                            </div>

                            <div class="card-body text-right ">


                                <div class="float-right btn-group btn-group-sm">
                                    <a class="table-link  text-warning" (click)="onSelectTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link  text-info" (click)="onEditTask(task)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-pencil-alt fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                    <a class="table-link text-danger" (click)="onDeleteTask(task.idTask)">
                                        <span class="fa-stack">
                                            <i class="fa fa-square fa-stack-2x"></i>
                                            <i class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>



                        </li>



                    </ul>    

                    <a href="#" class="btn btn-custom btn-block mt-3 waves-effect waves-light"></a>
                </div>
            </div>
        </div>
        <!-- end row -->
    </div>


    <button [hidden]="true" type="button" id="openTaskEdit" data-toggle="modal" data-target="#editTaskModal">
    </button>
    <button [hidden]="true" type="button" id="openTaskInfo" data-toggle="modal" data-target="#viewTaskModal">
    </button>


    <!-- edit Task -->

    <div class="modal draggable fade bd-example-modal-lg" id="editTaskModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center"><i class="fas fa-edit">Edit: {{editTask.nameTask }} </i>
                        <small [hidden]="isAdminOrScrumMasterOrChef">(read only)</small>
                    </h5>
                    <button class="btn-close" type="button" id="closeTaskEdit" aria-label="Close"
                        data-dismiss="modal"><span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="">

                        <form #editTaskForm="ngForm">

                            <div class="form-group">
                                <label for="nameTask"> Task Name</label>
                                <input type="text" name="nameTask" required [(ngModel)]="editTask.nameTask"
                                    [disabled]="!isAdminOrScrumMasterOrChef" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="desc"> Description</label>
                                <input type="text" name="description" required [(ngModel)]="editTask.description"
                                    [disabled]="!isAdminOrScrumMasterOrChef" class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="dateEch"> Due Date </label>
                                <input type="date" name="dateFin" required [(ngModel)]="editTask.dateFin"
                                    [disabled]="!isAdminOrScrumMasterOrChef" class="form-control">
                            </div>




                            <div class="form-group">
                                <label for="toMember">Member: {{editTask.memberAffecter.username}} </label>
                                <select name="memberAffecter" required [(ngModel)]="editTask.memberAffecter"
                                    [disabled]="!isAdminOrScrumMasterOrChef" class="form-control">

                                    <option *ngFor="let member of members" [ngValue]=member>{{member.username}}</option>

                                </select>

                            </div>
                            <div class="form-group">
                                <label for="mysprint">Sprint: {{editTask.sprint.nomSprint}}</label>
                                <select name="sprint" required [(ngModel)]="editTask.sprint"
                                    [disabled]="!isAdminOrScrumMasterOrChef" class="form-control">

                                    <option *ngFor="let s of sprints" [ngValue]=s> {{ s.nomSprint }}
                                    </option>
                                </select>

                            </div>


                            <div class="form-group">
                                <label for="status"> etat Task</label>
                                <select name="etatTask" required [(ngModel)]="editTask.etatTask" class="form-control">

                                    <option value="TASKETAT_INPROGRESS"> IN PROGRESS</option>
                                    <option value="TASKETAT_COMPLETED">COMPLETED
                                    </option>
                                    <option value="TASKETAT_UNSTARTED">UNSTARTED
                                    </option>
                                    <option value="TASKETAT_CANCEL">CANCEL
                                    </option>

                                </select>

                            </div>




                            <div class="form-group">
                                <label for="taskCreePar"> Created By </label>
                                <input type="text" name="taskCreePar" required [disabled]="!isAdminOrScrumMasterOrChef"
                                    [(ngModel)]="editTask.taskCreePar.username" class="form-control">
                            </div>

                            <fieldset class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="checkbox" name="archive" [(ngModel)]="editTask.archive"
                                            [disabled]="!isAdminOrScrumMasterOrChef" class="form-check-input">Archive
                                    </label>
                                </div>

                            </fieldset>

                        </form>

                    </div>
                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        id="edit-task-close">Close</button>
                    <button type="button" (click)="onUpdateTask()" [disabled]="editTaskForm.invalid"
                        class="btn btn-primary"> Save changes
                    </button>
                </div>

            </div>
        </div>

    </div>





  <!-- archive list task  -->


  <div class="modal draggable fade bd-example-modal-lg" size="5" id="archiveTaskModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog	" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title text-center"><i class="fas fa-tasks"> Archived Task</i> </h4>
              <button class="btn-close" type="button" id="openTaskInfo" aria-label="Close"
                  data-dismiss="modal"><span aria-hidden="true"></span>
              </button>
          </div>
          <div class="modal-body">
                
                <ul class="sortable-list taskList list-unstyled ui-sortable" id="completed">
                    <li *ngFor="let task of tasksArchived" class="task-warning ui-sortable-handle shadow-sm"
                        id="task1">

                       <strong>{{task.nameTask}}</strong> 
                        <div class="text-right">
                            <div class="float-right text-right btn-group btn-group-sm">
                                <a class="table-link  text-warning" (click)="onSelectTask(task)">
                                    <span class="fa-stack">
                                        <i class="fa fa-square fa-stack-2x"></i>
                                        <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                                <a class="table-link  text-info" (click)="outArchiveTask(task)">
                                    <span class="fa-stack">
                                        <i class="fa fa-square fa-stack-2x"></i>
                                        <i class="fa fa-window-restore fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                                <a class="table-link text-danger" (click)="onDeleteTask(task.idTask)">
                                    <span class="fa-stack">
                                        <i class="fa fa-square fa-stack-2x"></i>
                                        <i class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </div>
                        </div>


                    </li>




                </ul>

          </div>


          <div class="modal-footer">

              <button type="button" class="btn btn-secondary" data-dismiss="modal"
                  id="new-task-close">Close</button>
             
          </div>
      </div>
  </div>
</div>












    <!-- add  task  -->


    <div class="modal draggable fade bd-example-modal-lg" size="5" id="addTaskModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog	" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title text-center"><i class="fas fa-tasks"> New Task</i> </h4>
                    <button class="btn-close" type="button" id="closeTaskInfo" aria-label="Close"
                        data-dismiss="modal"><span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div>

                        <form #newTaskForm="ngForm" (ngSubmit)="onAddNewTask(newTaskForm.value)">
                            <div class="form-group">
                                <label for="nameTask"> Task Name</label>
                                <input type="text" name="nameTask" required ngModel class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="desc"> Description</label>
                                <input type="text" name="description" required [(ngModel)]="description"
                                    class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="dateEch"> Due Date </label>
                                <input type="date" name="dateFin" required [(ngModel)]="dateFin" class="form-control">
                            </div>


                            <!--  <div class="form-group">
                        <p>projet</p>
                    <ul>
                        <li *ngFor="let p of myProjects">{{ p.nameProjet }}</li>
                    </ul>
                </div> -->

                            <div class="form-group">
                                <label for="toMember">Member</label>
                                <select name="memberAffecter" required [(ngModel)]="memberAffecter"
                                    class="form-control">
                                    <option *ngFor="let member of members" [ngValue]=member>{{member.username}}</option>
                                </select>

                            </div>
                            <div class="form-group">
                                <label for="mysprint">Sprint</label>
                                <select name="sprint" required [(ngModel)]="sprintActuel" class="form-control">
                                    <option *ngFor="let s of sprints" [ngValue]=s> {{ s.nomSprint }}
                                    </option>
                                </select>

                            </div>

                            <div class="form-group">
                                <label for="status"> etat Task</label>
                                <select name="etatTask" required ngModel="TASKETAT_UNSTARTED" class="form-control">

                                    <option value="TASKETAT_INPROGRESS"> IN PROGRESS</option>
                                    <option value="TASKETAT_COMPLETED">COMPLETED
                                    </option>
                                    <option value="TASKETAT_UNSTARTED">UNSTARTED
                                    </option>
                                    <option value="TASKETAT_CANCEL">CANCEL
                                    </option>

                                </select>

                            </div>

                            <div class="form-group">
                                <label for="taskCreePar">Created by</label>
                                <h5> {{ userActuel.username}}</h5>

                                <input [hidden]="true" type="text" name="taskCreePar" required [(ngModel)]="userActuel"
                                    class="form-control">
                            </div>
                            <fieldset class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="checkbox" name="archive" ngModel class="form-check-input">Archive
                                    </label>
                                </div>

                            </fieldset>
                            <button type="submit" style="display: none;" id="new-task-save"></button>

                        </form>

                    </div>

                </div>

                <div class="modal-footer">

                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        id="new-task-close">Close</button>
                    <button type="button" (click)="saveNewTask()" [disabled]="newTaskForm.invalid"
                        class="btn btn-primary">
                        Save changes </button>
                </div>
            </div>
        </div>
    </div>




    <!-- detail task  -->


    <div class="modal fade bd-example-modal-lg" id="viewTaskModal" tabindex="-1" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 *ngIf="selectedTask" class="modal-title text-center" id="exampleModalLongTitle">
                        <i class="fas fa-money-check"> Task : {{selectedTask.nameTask}} </i>
                    </h4>
                    <button class="btn-close" type="button" id="openTaskInfo" aria-label="Close"
                        data-dismiss="modal"><span aria-hidden="true"></span>
                    </button>

                </div>
                <div class="row">

                    <div class="col-lg-12 col-md-12">
                        <div class="card">
                            <div class="card-header card-header-tabs card-header-warning">
                                <div class="nav-tabs-navigation">
                                    <div class="nav-tabs-wrapper">
                                        <ul class="nav nav-tabs" data-tabs="tabs">

                                            <li class="nav-item">
                                                <a class="nav-link active " href="#detail" data-toggle="tab">
                                                    <i class="material-icons"></i> Detail Task
                                                    <div class="ripple-container"></div>
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" href="#commentaire" data-toggle="tab">
                                                    <i class="material-icons"></i> Commentaires
                                                    <div class="ripple-container"></div>
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link " href="#attachement" data-toggle="tab">
                                                    <i class="material-icons"></i> Attachements
                                                    <div class="ripple-container"></div>
                                                </a>
                                            </li>
                                        </ul>

                                    </div>
                                </div>
                            </div>


                            <div class="card-body">
                                <div class="tab-content">
                                    <!--admin list-->
                                    <div class="tab-pane " id="attachement">


                                        <div class="card w-100">
                                            <div class="card-body">
                                                <h5 class="card-title">
                                                    <i class="fas fa-paperclip"></i>

                                                    Attachement
                                                </h5>Taille Maximum :
                                                <span class="badge badge-info">5MB</span>
                                                <span style="color: green"> </span>
                                                <hr>
                                                <p class="card-text"></p>

                                                <form #attFile="ngForm" (ngSubmit)="saveAttachement()">

                                                    <div *ngIf="currentFileUpload" class="progress">
                                                        <div class="progress-bar progress-bar-info progress-bar-striped"
                                                            role="progressbar"
                                                            attr.aria-valuenow="{{progress.percentage}}"
                                                            aria-valuemin="0" aria-valuemax="100"
                                                            [ngStyle]="{width:progress.percentage+'%'}">
                                                            {{progress.percentage}}%</div>
                                                    </div>


                                                    <label class="btn btn-default">
                                                        <input name="file" [(ngModel)]="attachement.file" type="file"
                                                            (change)="selectFile($event)">
                                                    </label>

                                                    <button class="btn btn-success" [disabled]="!selectedFiles"
                                                        (click)="upload()">Upload</button>
                                                    <button class="btn btn-default" [disabled]="!uploadvalid" type="submit">
                                                        <i class="far fa-check-circle">save</i>

                                                    </button>


                                                </form>
                                                <div class="table-responsive">
                                                    <table class="table table-sm">
                                                        <tr>
                                                            <th>#</th>
                                                            <th>File</th>
                                                            <th>Action</th>
                                                        </tr>
                                                        <tr *ngFor=" let att of attachementTache; let i = index">
                                                            <td> #{{i+1}} </td>
                                                            <td> {{att.file}} </td>
                                                            <td>
                                                                <button  type="button"
                                                                    class="btn btn-sm btn-default"
                                                                    (click)="onDeleteAttachement(att)">
                                                                    <i class="far fa-trash-alt"></i>

                                                                </button>
                                                                <button class="btn btn-sm btn-default"
                                                                    (click)="downloadFileToSave(att)">
                                                                    <i class="fas fa-cloud-download-alt"></i>
                                                                </button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>





                                </div>




                                <div class="tab-pane " id="commentaire">
                                    <div class="row bootstrap snippets bootdeys">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="comment-wrapper">
                                                <div class="panel panel-info">
                                                    <div class="panel-heading">
                                                        Comment panel
                                                    </div>
                                                    <div class="panel-body">

                                                        <form novalidate #fo="ngForm" (ngSubmit)="addNewComment(fo)">
                                                            <div class="alert alert-success" *ngIf="submited">
                                                                {{messageComment}}
                                                            </div>
                                                            
                            
<!--                                                         <span class="help-block" style="color:red;" *ngIf="comment.invalid && comment.touched"> * Veuillez saisir votre commentaire</span>
 -->                                                            <div class="alert alert-danger"
                                                                *ngIf="comment.errors?.required && comment.invalid && comment.touched">
                                                                * Veuillez saisir votre commentaire
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="form-label-group">
                                                                    <textarea class="form-control"
                                                                        [(ngModel)]="commentaire.comment"
                                                                        #comment="ngModel" name="comment"
                                                                        placeholder="write a comment..." required
                                                                        rows="3"></textarea>
                                                                </div>
                                                            </div>

                                                            <div class="form-group text-right">
                                                                <button [disabled]="!fo.form.valid" type="submit"
                                                                    class="btn btn-success">Post</button>
                                                                
                                                            </div>

                                                        </form>


                                                        <div class="clearfix"></div>
                                                        <hr>
                                                        <ul class="media-list" *ngIf="commentTask!==undefined">
                                                            <li class="media" *ngFor="let c of commentTask">
                                                                <a href="#" class="pull-left">
                                                                    <img src="{{c.userCom.profileImageUrl}}" alt=""
                                                                        class="img-circle">
                                                                </a>
                                                                <div class="media-body">
                                                                    <span class="text-muted pull-right">
                                                                        <small class="text-muted">
                                                                            {{c.dateComment|date:'medium' }}</small>
                                                                    </span>

                                                                    <strong
                                                                        class="text-success">@{{c.userCom.username}}</strong>
                                                                    <p>
                                                                        {{c.comment}}

                                                                        .
                                                                    </p>
                                                                    <div class="text-right ">
                                                                        <a class="text-right text-danger "
                                                                            (click)="onDeleteComment(c.idCommentaire)">
                                                                            <span class="fa-stack text-right">
                                                                                <i class="fa fa-square fa-stack-2x"></i>
                                                                                <i
                                                                                    class="fa fa-trash fa-stack-1x fa-inverse"></i>
                                                                            </span>
                                                                        </a>
                                                                    </div>

                                                                </div>

                                                            </li>

                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane " id="detail">
                                    <div class="modal-body" *ngIf="selectedTask!==undefined">
                                        <div>

                                            <div class="card" id="detail">
                                                <div class="card-body">

                                                    <div class="row">

                                                        <div class="col-12 col-sm-auto ">
                                                            <div class="mx-auto" style="width: 60px;">
                                                                <div
                                                                    class="d-flex justify-content-center align-items-center rounded">

                                                                    <img class="rounded" height="60" width="60"
                                                                        class="rounded-circle shadow p-1 bg-white"
                                                                        src="{{selectedTask.taskCreePar.profileImageUrl}}"
                                                                        alt="{{selectedTask.taskCreePar.username}}">

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div   class="col d-flex flex-column flex-sm-row justify-content-between ">
                                                            <div class="text-left text-sm-left  mb-sm-0">

                                                                <h5 class="pt-sm-2 pb-1 mb-0 text-nowrap"><i
                                                                        class="fas fa-user">
                                                                        Created by: 
                                                                        {{selectedTask.taskCreePar.username}}</i>
                                                                </h5>

                                                                <div class="">
                                                                    <i
                                                                        class="fa fa-shield-alt float-right">{{selectedTask.taskCreePar.role.substring(5)}}</i>

                                                                </div>


                                                                <div class="text-muted"><small>
                                                                        <div class=""> Contact: </div>
                                                                        {{selectedTask.taskCreePar.email}}
                                                                    </small></div>


                                                            </div>

                                                            <div class="text-center text-sm-right">

                                                                <div *ngIf="selectedTask.dateCreation"
                                                                    class="text-muted">
                                                                    <small> Creation Date :
                                                                    </small>
                                                                </div>
                                                                <div *ngIf="selectedTask.dateCreation"
                                                                    class="text-muted">
                                                                    <small>
                                                                        {{selectedTask.dateCreation | date:'medium'
                                                                        }}</small>
                                                                </div>

                                                                <div class="text-muted"><small>Due Date
                                                                    </small></div>
                                                                <div *ngIf="selectedTask.dateFin" class="text-muted">
                                                                    <small>
                                                                        {{selectedTask.dateFin|date:'medium'
                                                                        }}</small>
                                                                </div>
                                                                <div *ngIf="selectedTask.dateModification"
                                                                    class="text-muted">
                                                                    <small>Last Updated Date
                                                                    </small>
                                                                </div>
                                                                <div *ngIf="selectedTask.dateModification"
                                                                    class="text-muted">
                                                                    <small>
                                                                        {{selectedTask.dateModification|date:'medium'
                                                                        }}</small>
                                                                </div>
                                                            </div>


                                                        </div>


                                                    </div>

                                                    <ul class="list-group list-group-flush">
                                                        <li class="list-group-item"></li>
                                                        <li class="list-group-item">
                                                            <i class="fas fa-folder-open"> Project Name :
                                                                {{selectedTask.sprint.projet.nameProjet }}</i>
                                                        </li>

                                                        <li class="list-group-item">
                                                            <i class="fas fa-clipboard"> Sprint Name :
                                                                {{selectedTask.sprint.nomSprint}}</i>
                                                        </li>



                                                        <li class="list-group-item">
                                                            <i class="fas fa-info-circle"> Task Status :
                                                                {{selectedTask.etatTask.substring(9)}}
                                                            </i>
                                                        </li>


                                                        <li class="list-group-item"  >
                                                            <i class="fas fa-user-shield ">Project Master:
                                                                {{selectedTask.sprint.projet.creePar.username}} </i>
                                                        </li>



                                                        <li class="list-group-item">
                                                            <i class="fas fa-user-tie ">Chef :
                                                                {{selectedTask.sprint.chefAffecter.username}} </i>
                                                        </li>
                                                        <li class="list-group-item">
                                                            <i class="fas fa-user ">Affected To :
                                                                 {{selectedTask.memberAffecter.username}} </i>
                                                        </li>
                                                        

                                                                       
                                                        <li class="list-group-item">
                                                            <i class="fas fa-users "> Participants : </i>
                                                        </li>

                                                        <div class="col-lg-7" id="cluster_info">
                                                            <dl class="">
                                                                <dd class="project-people">
                                                                    <a href=""><img alt="image" class="img-circle"
                                                                            src="{{selectedTask.sprint.sprintCreePar.profileImageUrl}}"></a>
                                                                    <a href=""><img alt="image" class="img-circle"
                                                                            src="{{selectedTask.sprint.chefAffecter.profileImageUrl}}"></a>
                                                                    <a href=""><img alt="image" class="img-circle"
                                                                            src="{{selectedTask.memberAffecter.profileImageUrl}}"></a>

                                                                </dd>
                                                            </dl>
                                                        </div>

                                                    </ul>



                                                    <!--card et card body & ere card -->

                                                </div>


                                            </div>


                                        </div>
                                    </div>
                                </div>



                            </div>
                        </div>
                    </div>








                    <div class="modal-footer">

                        <button type="button" class="btn btn-secondary" data-dismiss="modal"
                            id="new-sprint-close">Close</button>
                    </div>
                </div>


            </div>


        </div>


    </div>













    <!-- container -->

</div>